
@model List<FinalProject.Models.DynamicTemplate>


@{
    ViewBag.Title = "Dynamic Templates";
}

<h2 class="text-center text-primary mt-3">Dynamic Template List</h2>

<!-- Add New Template Button -->
<div class="text-center my-3">
    <button id="showOptionsBtn" class="btn btn-success">Add New Template</button>
</div>

<!-- Modal or Options for Manual or CSV Upload -->
<div id="templateOptions" class="text-center my-3" style="display:none;">
    <button onclick="location.href='@Url.Action("AddManual", "DynamicTemplate")'" class="btn btn-outline-primary mx-2">Add Manually</button>
    <button onclick="location.href='@Url.Action("AddCsv", "DynamicTemplate")'" class="btn btn-outline-secondary mx-2">Upload CSV</button>
</div>

<!-- Styled Table -->
<table class="table table-striped table-bordered shadow-lg">
    <thead class="table-dark">
        <tr>
            <th>Id</th>
            <th>File Template Name</th>
            <th>Domain</th>
            <th>Category</th>
            <th>School Year</th>
            <th>Roles</th>
            <th class="text-center">Actions</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var item in Model)
        {
            <tr>
                <td>@item.Id</td>
                <td>@item.FileTemplateName</td>
                <td>@item.Domain</td>
                <td>@item.Category</td>
                <td>@item.SchoolYear</td>
                <td>@item.Roles</td>

                <td class="text-center">
                    <a href="@Url.Action("Edit", "DynamicTemplate", new { id = item.Id })" class="btn btn-warning btn-sm">Edit</a>
                    <a href="@Url.Action("Details", "DynamicTemplate", new { id = item.Id })" class="btn btn-info btn-sm">Details</a>
                    <a href="@Url.Action("Delete", "DynamicTemplate", new { id = item.Id })" class="btn btn-danger btn-sm" onclick="return confirm('Are you sure?')">Delete</a>
                </td>
            </tr>
        }
    </tbody>
</table>

<script>
    document.getElementById('showOptionsBtn').onclick = function () {
        document.getElementById('templateOptions').style.display = 'block';
    };
</script>
